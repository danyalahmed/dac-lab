apps:
  - name: namespaces
    wave: -1
    project: infrastructure
    type: git
    repo: https://github.com/danyalahmed/dac-lab.git
    location: kubernetes/infra/namespaces
    targetRevision: main
    namespace: shared-services

### MetalLB
  - name: metallb
    wave: 1
    project: infrastructure
    type: git
    repo: git@github.com:danyalahmed/dac-lab-private.git
    location: kubernetes/infra/metallb
    targetRevision: main
    namespace: metallb-system

### Metrics Server
  - name: metrics-server
    wave: 0
    project: infrastructure
    type: helm
    repo: https://kubernetes-sigs.github.io/metrics-server/
    chart: metrics-server
    version: 3.13.0
    namespace: kube-system

### Storage Provisioners
  - name: local-path-provisioner
    wave: 0
    project: infrastructure
    type: helmFromGit
    repo: https://github.com/rancher/local-path-provisioner.git
    location: deploy/chart/local-path-provisioner
    chart: local-path-provisioner
    version: v0.0.34
    hasOverride: true
    overridesRepo: https://github.com/danyalahmed/dac-lab.git
    targetRevision: main
    namespace: shared-services

  - name: nfs-csi-driver
    wave: 0
    project: infrastructure
    type: helm
    repo: https://raw.githubusercontent.com/kubernetes-csi/csi-driver-nfs/master/charts
    chart: csi-driver-nfs
    version: 4.12.1
    hasOverride: true
    overridesRepo: git@github.com:danyalahmed/dac-lab-private.git
    targetRevision: main
    namespace: shared-services

### Cert-Manager
  - name: cert-manager
    wave: 0
    project: infrastructure
    type: helm
    repo: https://charts.jetstack.io
    chart: cert-manager
    version: v1.19.2
    hasOverride: true
    overridesRepo: https://github.com/danyalahmed/dac-lab.git
    targetRevision: main
    namespace: cert-manager
  # gateway and mutual TLS certs
  - name: certs
    wave: 5
    project: infrastructure
    type: git
    repo: git@github.com:danyalahmed/dac-lab-private.git
    location: kubernetes/infra/certs
    targetRevision: main
    namespace: istio-system 
### Gateway API
  - name: gateway-api
    wave: 0
    project: infrastructure
    type: git
    repo: https://github.com/danyalahmed/dac-lab.git
    location: kubernetes/infra/gateway
    targetRevision: main
    namespace: istio-system

### Istio - Service Mesh
  - name: istio-base
    wave: 0
    project: infrastructure
    type: helm
    repo: https://istio-release.storage.googleapis.com/charts
    chart: base
    version: 1.28.3
    hasOverride: true
    overridesRepo: https://github.com/danyalahmed/dac-lab.git
    targetRevision: main
    namespace: istio-system
  - name: istiod
    wave: 6
    project: infrastructure
    type: helm
    repo: https://istio-release.storage.googleapis.com/charts
    chart: istiod
    version: 1.28.3
    hasOverride: true
    overridesRepo: https://github.com/danyalahmed/dac-lab.git
    targetRevision: main
    namespace: istio-system
  - name: istio-cni
    wave: 6
    project: infrastructure
    type: helm
    repo: https://istio-release.storage.googleapis.com/charts
    chart: cni
    version: 1.28.3
    hasOverride: true
    overridesRepo: https://github.com/danyalahmed/dac-lab.git
    targetRevision: main
    namespace: istio-system
  - name: istio-ztunnel
    wave: 6
    project: infrastructure
    type: helm
    repo: https://istio-release.storage.googleapis.com/charts
    chart: ztunnel
    version: 1.28.3
    namespace: istio-system
  - name: istio-integrations
    wave: 7
    project: infrastructure
    type: git
    repo: https://github.com/danyalahmed/dac-lab.git
    location: kubernetes/infra/istio-integrations
    targetRevision: main
    namespace: istio-system

### Postgresql (CloudNativePG)
  - name: cloudnative-pg-operator
    wave: 1
    project: infrastructure
    type: helm
    repo: https://cloudnative-pg.io/charts
    chart: cloudnative-pg
    version: 0.27.0
    namespace: shared-services
    serversideApply: true
  - name: barman-plugin
    wave: 2
    project: infrastructure
    type: helm
    repo: https://cloudnative-pg.io/charts
    chart: plugin-barman-cloud
    version: 0.4.0
    namespace: shared-services

### SeaweedFS
  - name: seaweedfs-operator
    wave: 1
    project: infrastructure
    type: helm
    repo: https://seaweedfs.github.io/seaweedfs-operator
    chart: seaweedfs-operator
    version: 0.1.12
    namespace: shared-services

  - name: seaweedfs-cluster
    wave: 3
    project: infrastructure
    type: git
    repo: https://github.com/danyalahmed/dac-lab.git
    location: kubernetes/infra/seaweedfs
    targetRevision: main
    namespace: shared-services

### HashiCorp Vault
  - name: vault
    wave: 4
    project: security
    type: helm
    repo: https://helm.releases.hashicorp.com
    chart: vault
    version: 0.29.1
    hasOverride: true
    overridesRepo: https://github.com/danyalahmed/dac-lab.git
    targetRevision: main
    namespace: security
  - name: vault-pki-integration
    wave: 5
    project: security
    type: git
    repo: git@github.com:danyalahmed/dac-lab-private.git
    location: kubernetes/infra/vault-pki
    targetRevision: main
    namespace: security

### External Secrets Operator
  - name: external-secrets-operator
    wave: 5
    project: security
    type: helm
    repo: https://charts.external-secrets.io
    chart: external-secrets
    version: 0.12.1
    namespace: security


### ArgoCD Route
  - name: argocd-route
    wave: 11
    project: infrastructure
    type: git
    repo: https://github.com/danyalahmed/dac-lab.git
    location: kubernetes/infra/argocd-route
    targetRevision: main
    namespace: argocd

### Nextcloud
  - name: nextcloud
    wave: 11
    project: homeautomation
    type: git
    repo: git@github.com:danyalahmed/dac-lab-private.git
    location: kubernetes/apps/nextcloud
    targetRevision: main
    namespace: homeautomation
### Home Assistant
  - name: home-assistant
    wave: 11
    project: homeautomation
    type: git
    repo: git@github.com:danyalahmed/dac-lab-private.git
    location: kubernetes/apps/homeassistant
    targetRevision: main
    namespace: homeautomation

### misc
  - name: misc
    wave: 21
    project: default
    type: git
    repo: https://github.com/danyalahmed/dac-lab.git
    location: kubernetes/infra/misc
    targetRevision: main
    namespace: default
